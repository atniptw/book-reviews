name: Book Review Helper

on:
  issues:
    types: [opened, labeled]

jobs:
  post-helper-comment:
    runs-on: ubuntu-latest
    if: contains(github.event.issue.labels.*.name, 'book-review')
    
    permissions:
      issues: write

    steps:
      - name: Post helpful comment
        uses: actions/github-script@v7
        with:
          script: |
            const body = `ðŸ“š Review received! To process this review, comment:

            \`@copilot create a PR with a polished review in reviews/\`

            ðŸ’¡ **Mobile tip:** Use your saved reply to make this even faster!`;
            
            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: body
            });
            
            console.log('Helper comment posted successfully.');

